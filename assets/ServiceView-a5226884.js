import{_ as f,o as n,c as d,b as a,f as u,t as h,F as A,g as D,i as y,v as b,j as p,h as i,k as H}from"./index-f0c34798.js";const w="data:image/png;base64,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";const{VITE_URL:m,VITE_PATH:g}={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"healing_chou",BASE_URL:"/HealingChou/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},k={data(){return{service:{},months:["January","February","March","April","May","June","July","August","September","October","November","December"],tempOrder:{user:{name:"",email:"",tel:"",address:""},message:""},today:{year:0,month:0,date:0,day:0},calendar:{year:0,month:0,date:0,day:0},orders:[],nestedOrders:[],total_pages:0}},components:{},methods:{getService(){const{id:l}=this.$route.params;this.$http.get(`${m}/api/${g}/product/${l}`).then(s=>{this.service=s.data.product}).catch(s=>{console.log(s)})},getBooked(){this.$http.get(`${m}/api/${g}/orders`).then(l=>{this.total_pages=l.data.pagination.total_pages,this.processBooked()}).catch(l=>{console.log(l)})},async processBooked(){for(let l=1;l<=this.total_pages;l++)await this.getBookedPages(l);this.orders=this.orders.sort((l,s)=>l.user.address-s.user.address),console.log(this.orders)},async getBookedPages(l){return new Promise(s=>{this.$http.get(`${m}/api/${g}/orders?page=${l}`).then(o=>{l==1?this.orders=o.data.orders:this.orders=this.orders.concat(o.data.orders),s()}).catch(o=>{console.log(o)})})},setToday(){const l=new Date;this.today.year=this.calendar.year=l.getFullYear(),this.today.month=this.calendar.month=l.getMonth(),this.today.date=this.calendar.date=l.getDate(),this.today.day=this.calendar.day=l.getDay()},adjustYear(l){this.calendar.year+=l},adjustMonth(l){let s=this.calendar.month+l;s>11?(this.adjustYear(1),this.calendar.month=0):s<0?(this.adjustYear(-1),this.calendar.month=11):this.calendar.month=s},calculateDate(l,s){return new Date(this.calendarMonth[(l-1)*7+s-1].year,this.calendarMonth[(l-1)*7+s-1].month,this.calendarMonth[(l-1)*7+s-1].date)},addToCart(){let s={product_id:this.$route.params.id,qty:1};this.$http.post(`${m}/api/${g}/cart`,{data:s}).then(o=>{console.log(o.data),this.addOrder()}).catch(o=>{console.log(o)})},addOrder(){const l=document.querySelector('input[name="options"]:checked').dataset.session;this.tempOrder.user.address=l;const s=this.tempOrder;this.$http.post(`${m}/api/${g}/order`,{data:s}).then(o=>{console.log(o.data),this.getBooked()}).catch(o=>{console.log(o)})}},computed:{calendarFirstDay(){const l=new Date(this.calendar.year,this.calendar.month,1),s=new Date(this.calendar.year,this.calendar.month,1-l.getDay());return{year:s.getFullYear(),month:s.getMonth(),date:s.getDate(),day:s.getDay()}},calendarMonth(){const l=[];let s;for(let o=0;o<42;o++)s=new Date(this.calendarFirstDay.year,this.calendarFirstDay.month,this.calendarFirstDay.date+o),l.push({year:s.getFullYear(),month:s.getMonth(),date:s.getDate(),day:s.getDay()});return l},bookedTime(){const l=[];for(const s of this.orders)l.push(s.user.address*1);return l}},mounted(){this.setToday(),this.getBooked(),this.getService()}},v={class:"healing_Theta"},_={class:"text-center fs-1 pt-40 pt-lg-80 pb-40 pb-lg-80 lh-1 mb-0 bg-image text-white",style:{"background-image":"url(@/assets/images/meditation-banner.jpg)","background-position":"center 70%"}},x=a("br",null,null,-1),F={class:"fs-3 fw-normal"},O={class:"healing_content bg-beige"},B={class:"container pt-5 pb-5 position-relative"},E=["innerHTML"],T={key:0,class:"healing_reserve bg-image",style:{"background-image":"url(@/assets/images/tarot-stack.jpg)"}},M={class:"container pt-5 pb-5"},X=a("h2",{class:"text-center text-white mb-4"},[a("img",{src:w,alt:""}),u(" 預約療癒 ")],-1),L={class:"row justify-content-center"},N={class:"col-lg-8"},V={class:"row p-4 needs-validation",novalidate:""},Y={class:"col-12 mb-3"},J=a("label",{for:"inputTime",class:"form-label text-white"},[u("選擇療癒時間"),a("span",{class:"text-danger"},"*")],-1),C={class:"calendar text-center"},G={class:"month"},I=a("i",{class:"fas fa-angle-left"},null,-1),K=[I],q={class:"date"},Q=a("i",{class:"fas fa-angle-right"},null,-1),U=[Q],W=a("div",{class:"weekDay d-flex"},[a("div",null,"日"),a("div",null,"一"),a("div",null,"二"),a("div",null,"三"),a("div",null,"四"),a("div",null,"五"),a("div",null,"六")],-1),R=["data-date","data-timestamp"],z={key:0},Z=["id","data-session"],P=["for"],S=["id","data-session"],j=["for"],$=["id","data-session"],ee=["for"],te=["id","data-session"],ae=["for"],se={key:1},re=["id","data-session"],le=["for"],oe={class:"col-md-6 mb-3"},ne=a("label",{for:"inputName",class:"form-label text-white"},[u("姓名"),a("span",{class:"text-danger"},"*")],-1),de={class:"col-md-6 mb-3"},ce=a("label",{for:"inputTel",class:"form-label text-white"},[u("手機號碼"),a("span",{class:"text-danger"},"*")],-1),ie={class:"col-md-6 mb-3"},ue=a("label",{for:"email",class:"form-label text-white"},[u("email"),a("span",{class:"text-danger"},"*")],-1),he={class:"col-12 mb-3"},me=a("label",{for:"formNote",class:"form-label text-white"},"備註 (Line ID、帳號末5碼)",-1),ge=a("div",{id:"formNoteHelp",class:"form-text text-light"},[u(" 匯款資訊：台新銀行 812 敦南分行 "),a("br"),u(" 帳號：28881004008118 "),a("br"),u(" 戶名：沈家舟")],-1),ye={class:"col-12"};function be(l,s,o,Ae,c,e){return n(),d("div",v,[a("h1",_,[u(" 療癒服務 "),x,a("span",F,h(c.service.title),1)]),a("section",O,[a("div",B,[a("h2",null,h(c.service.title),1),a("div",{innerHTML:c.service.content},null,8,E)])]),c.service.origin_price?(n(),d("section",T,[a("div",M,[X,a("div",L,[a("div",N,[a("form",V,[a("div",Y,[J,a("div",C,[a("div",G,[a("button",{class:"btn btn-outline-primary prev",onClick:s[0]||(s[0]=t=>e.adjustMonth(-1))},K),a("div",q,[a("h1",null,h(c.calendar.year),1),a("h2",null,h(c.months[c.calendar.month]),1)]),a("div",{class:"btn btn-outline-primary next",onClick:s[1]||(s[1]=t=>e.adjustMonth(1))},U)]),W,(n(),d(A,null,D(6,t=>a("div",{class:"week d-flex",key:"aaa"+t},[(n(),d(A,null,D(7,r=>a("div",{class:H(["day text-start ps-1",{other:e.calendarMonth[(t-1)*7+r-1].month!==c.calendar.month,saturday:e.calendarMonth[(t-1)*7+r-1].day==6,sunday:e.calendarMonth[(t-1)*7+r-1].day==0,today:e.calendarMonth[(t-1)*7+r-1].year===c.today.year&&e.calendarMonth[(t-1)*7+r-1].month===c.today.month&&e.calendarMonth[(t-1)*7+r-1].date===c.today.date}]),key:"aaa"+r,"data-date":e.calendarMonth[(t-1)*7+r-1].date,"data-timestamp":this.calculateDate(t,r).valueOf()},[a("p",null,h(e.calendarMonth[(t-1)*7+r-1].date),1),e.calculateDate(t,r)>Date.now()&&e.calendarMonth[(t-1)*7+r-1].month==c.calendar.month&&e.calculateDate(t,r).getDay()===6?(n(),d("div",z,[e.bookedTime.indexOf(e.calculateDate(t,r).setHours(10,0,0,0))==-1?(n(),d("input",{key:0,type:"radio",class:"btn-check",name:"options",id:e.calculateDate(t,r).setHours(10,0,0,0),autocomplete:"off","data-session":e.calculateDate(t,r).setHours(10,0,0,0)},null,8,Z)):i("",!0),e.bookedTime.indexOf(e.calculateDate(t,r).setHours(10,0,0,0))==-1?(n(),d("label",{key:1,class:"btn btn-sm btn-outline-primary session-btn",for:e.calculateDate(t,r).setHours(10,0,0,0)},"10:00",8,P)):i("",!0),e.bookedTime.indexOf(e.calculateDate(t,r).setHours(14,0,0,0))==-1?(n(),d("input",{key:2,type:"radio",class:"btn-check",name:"options",id:e.calculateDate(t,r).setHours(14,0,0,0),autocomplete:"off","data-session":e.calculateDate(t,r).setHours(14,0,0,0)},null,8,S)):i("",!0),e.bookedTime.indexOf(e.calculateDate(t,r).setHours(14,0,0,0))==-1?(n(),d("label",{key:3,class:"btn btn-sm btn-outline-primary session-btn",for:e.calculateDate(t,r).setHours(14,0,0,0)},"14:00",8,j)):i("",!0),e.bookedTime.indexOf(e.calculateDate(t,r).setHours(16,0,0,0))==-1?(n(),d("input",{key:4,type:"radio",class:"btn-check",name:"options",id:e.calculateDate(t,r).setHours(16,0,0,0),autocomplete:"off","data-session":e.calculateDate(t,r).setHours(16,0,0,0)},null,8,$)):i("",!0),e.bookedTime.indexOf(e.calculateDate(t,r).setHours(16,0,0,0))==-1?(n(),d("label",{key:5,class:"btn btn-sm btn-outline-primary session-btn",for:e.calculateDate(t,r).setHours(16,0,0,0)},"16:00",8,ee)):i("",!0),e.bookedTime.indexOf(e.calculateDate(t,r).setHours(20,0,0,0))==-1?(n(),d("input",{key:6,type:"radio",class:"btn-check",name:"options",id:e.calculateDate(t,r).setHours(20,0,0,0),autocomplete:"off","data-session":e.calculateDate(t,r).setHours(20,0,0,0)},null,8,te)):i("",!0),e.bookedTime.indexOf(e.calculateDate(t,r).setHours(20,0,0,0))==-1?(n(),d("label",{key:7,class:"btn btn-sm btn-outline-primary session-btn",for:e.calculateDate(t,r).setHours(20,0,0,0)},"20:00",8,ae)):i("",!0)])):e.calculateDate(t,r)>Date.now()&&e.calculateDate(t,r)<Date.now()+864e5*60&&e.calendarMonth[(t-1)*7+r-1].month==c.calendar.month&&(e.calculateDate(t,r).getDay()===1||e.calculateDate(t,r).getDay()===2||e.calculateDate(t,r).getDay()===4||e.calculateDate(t,r).getDay()===5)?(n(),d("div",se,[e.bookedTime.indexOf(e.calculateDate(t,r).setHours(20,0,0,0))==-1?(n(),d("input",{key:0,type:"radio",class:"btn-check",name:"options",id:e.calculateDate(t,r).setHours(20,0,0,0),autocomplete:"off","data-session":e.calculateDate(t,r).setHours(20,0,0,0)},null,8,re)):i("",!0),e.bookedTime.indexOf(e.calculateDate(t,r).setHours(20,0,0,0))==-1?(n(),d("label",{key:1,class:"btn btn-sm btn-outline-primary session-btn",for:e.calculateDate(t,r).setHours(20,0,0,0)},"20:00",8,le)):i("",!0)])):i("",!0)],10,R)),64))])),64))])]),a("div",oe,[ne,y(a("input",{type:"text",class:"form-control",id:"inputName",required:"","onUpdate:modelValue":s[2]||(s[2]=t=>this.tempOrder.user.name=t)},null,512),[[b,this.tempOrder.user.name]])]),a("div",de,[ce,y(a("input",{type:"tel",class:"form-control",id:"inputTel",required:"","onUpdate:modelValue":s[3]||(s[3]=t=>this.tempOrder.user.tel=t)},null,512),[[b,this.tempOrder.user.tel]])]),a("div",ie,[ue,y(a("input",{type:"email",class:"form-control",id:"email",required:"","onUpdate:modelValue":s[4]||(s[4]=t=>this.tempOrder.user.email=t)},null,512),[[b,this.tempOrder.user.email]])]),a("div",he,[me,y(a("textarea",{class:"form-control",id:"formNote",rows:"3",required:"","onUpdate:modelValue":s[5]||(s[5]=t=>this.tempOrder.message=t)},null,512),[[b,this.tempOrder.message]]),ge]),a("div",ye,[a("button",{type:"submit",class:"btn btn-beige text-primary w-100",onClick:s[6]||(s[6]=p((...t)=>e.addToCart&&e.addToCart(...t),["prevent"]))},"送出")])])])])])])):i("",!0)])}const fe=f(k,[["render",be]]);export{fe as default};
